# –ú–æ–¥—É–ª–∏ Telegram –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DeepSeek - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–í—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ –º–æ–¥—É–ª–µ–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –ª–æ–≥–∏–∫–æ–π Telegram, –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å DeepSeek API.

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞** –≤ `modules/deepseek_persona/_current/service.py` (—Å—Ç—Ä–æ–∫–∞ 31)
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞** –≤ `modules/deepseek_persona/v1/service.py`
- –ü—Ä–æ–±–ª–µ–º–∞: –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã –≤ Python –∫–æ–¥–µ
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Å–µ –º–æ–¥—É–ª–∏ —Ç–µ–ø–µ—Ä—å –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### 2. –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ñ–∞–π–ª—ã
- **–°–æ–∑–¥–∞–Ω –∫–∞—Ç–∞–ª–æ–≥ –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è `deepseek_persona/v1/data/`
- **–î–æ–±–∞–≤–ª–µ–Ω —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** `persona.json` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –±—Ä–µ–Ω–¥–∞
- **–î–æ–ø–æ–ª–Ω–µ–Ω —Ñ–∞–π–ª** `integrations/telegram_bot/v1/__init__.py`

### 3. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª** `requirements.txt` —Å–æ –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏:
  - FastAPI (–≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫)
  - aiogram (Telegram –±–æ—Ç)
  - requests (HTTP –∫–ª–∏–µ–Ω—Ç)
  - uvicorn (—Å–µ—Ä–≤–µ—Ä)
  - pydantic (–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)

## üì¶ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏

### 1. Telegram Bot (`integrations/telegram_bot/v1`)

**–ß—Ç–æ —É–º–µ–µ—Ç:**
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ webhook
- –û—Ç–≤–µ—á–∞–µ—Ç —Å –ø–æ–º–æ—â—å—é DeepSeek AI
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å –±—Ä–µ–Ω–¥–∞ "–ù–∞ –°—á–∞—Å—Ç—å–µ"
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã `/start`

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `GET /telegram_bot/v1/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
- `POST /telegram_bot/v1/webhook` - –ø—Ä–∏—ë–º —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç Telegram

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `integrations/telegram_bot/README.md`

### 2. Telegram Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (`integrations/telegram_push/v1`)

**–ß—Ç–æ —É–º–µ–µ—Ç:**
- –ú–Ω–æ–≥–æ–∫–∞–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫ (training, kpi, deals, cases)
- –®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- –†–µ–∂–∏–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (mock mode)
- –ñ—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –ü–æ–¥–ø–∏—Å–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ KPI (–ø—Ä–æ—Ü–µ–Ω—Ç—ã, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–¥–µ–ª–∫–∞—Ö (–≤—ã–∏–≥—Ä–∞–Ω–æ/–ø—Ä–æ–∏–≥—Ä–∞–Ω–æ)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `integrations/telegram_push/README.md`

### 3. DeepSeek Persona (`modules/deepseek_persona/v1`)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π –≥–æ–ª–æ—Å –±—Ä–µ–Ω–¥–∞ "–ù–∞ –°—á–∞—Å—Ç—å–µ"
- –°—Ç–∏–ª–∏–∑—É–µ—Ç –æ—Ç–≤–µ—Ç—ã AI –ø–æ–¥ —Ç—ë–ø–ª—ã–π, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–Ω
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ä–æ–ª–∏:
  - `coach` - –∫–æ—É—á/–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ (–¥–ª—è —Å–æ–≤–µ—Ç–æ–≤)
  - `client_emotional` - —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç
  - `client_rational` - —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `GET /deepseek_persona/v1/persona` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω—ã
- `POST /deepseek_persona/v1/chat` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ —Å –ø–µ—Ä—Å–æ–Ω–æ–π
- `POST /deepseek_persona/v1/stylize` - —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `modules/deepseek_persona/README.md`

### 4. Voice Gateway + DeepSeek API (`core/voice_gateway/v1`)

**–ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DeepSeek API
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ä–æ–ª–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö HTTP –∫–ª–∏–µ–Ω—Ç–æ–≤

**–§—É–Ω–∫—Ü–∏–∏:**
```python
from core.voice_gateway.v1 import VoicePipeline

vp = VoicePipeline()
response = vp.llm.chat([
    {"role": "system", "content": "–¢—ã –∫–æ—É—á –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º"},
    {"role": "user", "content": "–ö–∞–∫ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–¥–∞–∂–∏?"}
])
```

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `core/voice_gateway/v1/README.md`

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd "–ë–æ—Ç/salesbot_final(–∫–æ–ø–∏—è)"
pip install -r requirements.txt
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
export TELEGRAM_BOT_TOKEN="8029409301:AAGpKsSxQ_rdQJm_5kR6hk_E5JgOoQLNAgI"

# API –∫–ª—é—á DeepSeek (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è AI)
export DEEPSEEK_API_KEY="sk-4de54b0041b44cf193b22cf21f028be7"
export DEEPSEEK_MODEL="deepseek-chat"

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
export HTTP_TIMEOUT=15
export HTTP_RETRIES=2
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ API
python main.py
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞

```bash
# –ü—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç (polling)
python simple_telegram_bot.py
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ:

1. **TELEGRAM_MODULES_GUIDE.md** - –û–±—â–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
2. **integrations/telegram_bot/README.md** - Telegram –±–æ—Ç
3. **integrations/telegram_push/README.md** - Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
4. **modules/deepseek_persona/README.md** - –ü–µ—Ä—Å–æ–Ω–∞ –±—Ä–µ–Ω–¥–∞
5. **core/voice_gateway/v1/README.md** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DeepSeek

–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∫–æ–¥–∞
```
‚úì –í—Å–µ Python —Ñ–∞–π–ª—ã —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è
‚úì –ù–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
‚úì –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
```

### Code Review
```
‚úì –ü—Ä–æ–π–¥–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
‚úì –ó–∞–º–µ—á–∞–Ω–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (CodeQL)
```
‚úì –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–æ
‚úì –£—è–∑–≤–∏–º–æ—Å—Ç–µ–π –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ (0 alerts)
```

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å "–ù–∞ –°—á–∞—Å—Ç—å–µ"

–í—Å–µ AI-–æ—Ç–≤–µ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∏–ª–∏–∑—É—é—Ç—Å—è –ø–æ–¥:
- –¢—ë–ø–ª—ã–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π —Ç–æ–Ω
- –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ñ–∏—Ü–∏–æ–∑–∞
- –£–≤–∞–∂–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä—ã —Ñ—Ä–∞–∑:**
- "–•–µ–π, –¥–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º—Å—è –≤–º–µ—Å—Ç–µ üòä"
- "–°–º–æ—Ç—Ä–∏, —Å–µ–π—á–∞—Å –ø–æ–∫–∞–∂—É, –∫–∞–∫ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –µ—â—ë –ª—É—á—à–µ"
- "–ú–Ω–µ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏–ª–æ—Å—å –ø–æ‚Äë–Ω–∞—Å—Ç–æ—è—â–µ–º—É‚Ä¶"

### Graceful Degradation

–ï—Å–ª–∏ DeepSeek API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
- –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –¥–∞–≤–∞—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –±–µ–∑ —Å–±–æ–µ–≤
- –ù–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏

### –ú–Ω–æ–≥–æ–∫–∞–Ω–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ú–µ–Ω–µ–¥–∂–µ—Ä—ã –º–æ–≥—É—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–∞–ª—ã:
- **training** - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö
- **kpi** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- **deals** - —Å—Ç–∞—Ç—É—Å—ã —Å–¥–µ–ª–æ–∫
- **cases** - –Ω–æ–≤—ã–µ –∫–µ–π—Å—ã

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫

1. **modules/deepseek_persona/v1/data/persona.json**
   - –ü—Ä–∞–≤–∏–ª–∞ –æ–±—â–µ–Ω–∏—è –±—Ä–µ–Ω–¥–∞
   - –®–∞–±–ª–æ–Ω—ã —Ñ—Ä–∞–∑
   - –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π

2. **integrations/telegram_push/v1/data/config.json**
   - –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ real mode
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–∫–µ–Ω–∞

3. **integrations/telegram_push/v1/data/push_formats.json**
   - –®–∞–±–ª–æ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏

4. **integrations/telegram_push/v1/data/subscribers.json**
   - –ü–æ–¥–ø–∏—Å–∫–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
   - –ö–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª–µ–π

```bash
# Health check –±–æ—Ç–∞
curl http://localhost:8080/telegram_bot/v1/health

# Health check —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
curl http://localhost:8080/telegram_push/v1/health

# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–µ—Ä—Å–æ–Ω—ã
curl http://localhost:8080/deepseek_persona/v1/persona
```

### –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞

```bash
curl -X POST http://localhost:8080/deepseek_persona/v1/chat \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "–ö–∞–∫ –æ—Ç–≤–µ—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É –Ω–∞ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–µ –æ —Ü–µ–Ω–µ?",
    "role": "coach"
  }'
```

### –¢–µ—Å—Ç push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```bash
# –ü–æ–¥–ø–∏—Å–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
curl -X POST http://localhost:8080/telegram_push/v1/subscribe \
  -H "Content-Type: application/json" \
  -d '{
    "manager_id": "alex",
    "chat_id": "123456789",
    "channels": ["training", "kpi", "deals"]
  }'

# –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
curl -X POST http://localhost:8080/telegram_push/v1/events/training_reminder \
  -H "Content-Type: application/json" \
  -d '{
    "manager_id": "alex",
    "when": "—Å–µ–≥–æ–¥–Ω—è –≤ 14:00",
    "mode": "Arena"
  }'
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
–ë–æ—Ç/salesbot_final(–∫–æ–ø–∏—è)/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îî‚îÄ‚îÄ voice_gateway/v1/          # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DeepSeek
‚îÇ       ‚îú‚îÄ‚îÄ pipeline.py            # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å VoicePipeline
‚îÇ       ‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ integrations/
‚îÇ   ‚îú‚îÄ‚îÄ telegram_bot/v1/          # Telegram –±–æ—Ç webhook
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py             # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py           # –≠–∫—Å–ø–æ—Ä—Ç router
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ telegram_push/v1/         # Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ routes.py             # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ service.py            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ data/                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ       ‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îî‚îÄ‚îÄ deepseek_persona/         # –ü–µ—Ä—Å–æ–Ω–∞ –±—Ä–µ–Ω–¥–∞
‚îÇ       ‚îú‚îÄ‚îÄ v1/                   # –í–µ—Ä—Å–∏—è 1
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ service.py        # –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å AI
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ routes.py         # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ data/
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ persona.json  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—Ä–µ–Ω–¥–∞
‚îÇ       ‚îú‚îÄ‚îÄ _current/             # –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ simple_telegram_bot.py        # –ü—Ä–æ—Å—Ç–æ–π –±–æ—Ç (polling)
‚îú‚îÄ‚îÄ telegram_bot.py              # –ë–æ—Ç —á–µ—Ä–µ–∑ aiogram
‚îú‚îÄ‚îÄ requirements.txt             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ TELEGRAM_MODULES_GUIDE.md    # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ (EN)
‚îî‚îÄ‚îÄ TELEGRAM_MODULES_RU.md       # –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ (RU)
```

## üéØ –ò—Ç–æ–≥–∏

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

‚úÖ **Telegram Bot** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–≤–µ—á–∞–µ—Ç —Å –ø–æ–º–æ—â—å—é AI
‚úÖ **Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º
‚úÖ **DeepSeek –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã –≤ —Å—Ç–∏–ª–µ –±—Ä–µ–Ω–¥–∞
‚úÖ **–§–∏—Ä–º–µ–Ω–Ω—ã–π –≥–æ–ª–æ—Å** - –≤—Å–µ –æ—Ç–≤–µ—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–æ–Ω—É "–ù–∞ –°—á–∞—Å—Ç—å–µ"
‚úÖ **–õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º** - —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –±–µ–∑ API
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞** - –ø—Ä–æ—à–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞

### –ß—Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

1. **–î–ª—è –¥–∏–∞–ª–æ–≥–æ–≤ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏** - Telegram –±–æ—Ç —Å AI
2. **–î–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤** - —Å–∏–º—É–ª—è—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
3. **–î–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** - push —Å–∏—Å—Ç–µ–º–∞
4. **–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - API –ø–µ—Ä—Å–æ–Ω—ã

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

–í—Å–µ –º–æ–¥—É–ª–∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! –ú–æ–∂–Ω–æ:
- –ó–∞–ø—É—Å–∫–∞—Ç—å Telegram –±–æ—Ç–∞
- –ü–æ–¥–∫–ª—é—á–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏ –ø—Ä–æ–µ–∫—Ç–∞

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –û—Ç–≤–µ—Ç –∫–ª–∏–µ–Ω—Ç—É

```python
from modules.deepseek_persona.v1.service import persona_chat

# –ö–ª–∏–µ–Ω—Ç —Å–ø—Ä–æ—Å–∏–ª –æ —Ü–µ–Ω–µ
question = "–ö–ª–∏–µ–Ω—Ç –≥–æ–≤–æ—Ä–∏—Ç: '–≠—Ç–æ —Å–ª–∏—à–∫–æ–º –¥–æ—Ä–æ–≥–æ'"

# –ü–æ–ª—É—á–∞–µ–º —Å–æ–≤–µ—Ç –∫–æ—É—á–∞
advice = persona_chat(question, role="coach")

print(advice)
# –í—ã–≤–æ–¥: "–•–µ–π, –¥–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º—Å—è –≤–º–µ—Å—Ç–µ üòä 
#         –ü–µ—Ä–µ–≤–µ–¥–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä –∫ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞..."
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```python
import requests

# –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º –º–µ–Ω–µ–¥–∂–µ—Ä–∞
response = requests.post(
    "http://localhost:8080/telegram_push/v1/subscribe",
    json={
        "manager_id": "ivan",
        "chat_id": "987654321",
        "channels": ["training", "kpi", "deals"]
    }
)

print(response.json())
# –í—ã–≤–æ–¥: {"ok": true, "manager_id": "ivan"}
```

### –ü—Ä–∏–º–µ—Ä 3: –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–±–µ–¥–µ

```python
import requests

# –°–¥–µ–ª–∫–∞ –≤—ã–∏–≥—Ä–∞–Ω–∞!
response = requests.post(
    "http://localhost:8080/telegram_push/v1/events/deal_won",
    json={
        "manager_id": "ivan",
        "id": "L-1001",
        "amount": 15000,
        "income": 3000
    }
)

# –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–ª—É—á–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:
# "üéâ –°–¥–µ–ª–∫–∞ L-1001 –∑–∞–∫—Ä—ã—Ç–∞! –°—É–º–º–∞: 15000, –¥–æ—Ö–æ–¥: 3000"
```

## üÜò –ü–æ–º–æ—â—å

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ README —Ñ–∞–π–ª–∞—Ö
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

## ‚ú® –£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!

–í—Å–µ –º–æ–¥—É–ª–∏ Telegram –ª–æ–≥–∏–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Ä–∞–±–æ—Ç–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
